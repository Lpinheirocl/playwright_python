{% extends 'base.html' %}

{% block title %}
Conteúdo da Pasta {{ folder_name }}
{% endblock %}

{% block content %}
    <div class="container">
        <h2>Conteúdo da Pasta: {{ folder_name }}</h2>

        <!-- Listagem dos arquivos .py com botão para executar -->
        <ul class="list-group">
            {% for file in py_files %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    {{ file }}
                    <form action="{{ url_for('pagtest.execute_file', folder_name=folder_name, file_name=file) }}" method="post">
                        <button type="submit" class="btn btn-primary">Executar</button>
                    </form>
                </li>
            {% endfor %}
        </ul>

        <!-- Exibe o resultado da execução do arquivo -->
        {% if result %}
            <h3>Resultado:</h3>
            <pre>{{ result }}</pre>
        {% endif %}
    </div>
{% endblock %}
